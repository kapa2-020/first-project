# **«Делимся проектом с миром»**
Пришло время потренироваться!  
<br>
На этом курсе вы поломаете голову над задачами из реальной практики работы с Git. Такие задачи ещё называют **кейсами** (от англ. *case* — «ситуация», «случай»).
<br>
Кейсы описывают контекст задачи и результат, который нужно получить, но не дают возможного решения — всё как в жизни.
<br>
Решение каждой задачи вам предстоит найти самостоятельно. Для этого опирайтесь на знания и навыки, полученные в предыдущих уроках или темах. Изучать что-то дополнительно не придётся.
<br>
Помните: иногда одну и ту же задачу можно решить несколькими способами. Постарайтесь применить изученный материал так, чтобы все его элементы сложились в цельную картину. Если вы что-то забыли, вернитесь к нужному уроку и повторите те места, которые вызвали трудности.
А теперь начнём!
<br>
Git — знание, которым хочется поделиться со всем миром! И такая возможность есть.
<br>
Представьте, что ваш коллега обратился к вам с просьбой. Он тоже хочет изучить Git, но не уверен, с чего начать. Реализуйте проект-помощник — самую удобную шпаргалку по работе с Git:
<br>
<br>
1.Создайте репозиторий.
<br>
2.Добавьте в репозиторий файл README.md и запишите в него всё, что уже знаете. Это могут быть: список команд и понятий по каждой из пройденных тем; инструкции по инициализации проекта, работе с коммитами и регистрации на GitHub или просто поурочные конспекты в свободной форме.
<br>
3.Загрузите получившийся репозиторий на GitHub и убедитесь, что локальная и удалённая версии идентичны.
<br>
<br>
Вставьте ссылку на репозиторий в поле ниже. Ссылка должна быть в таком формате: https://github.com/%ИМЯ_АККАУНТА%/%ИМЯ_ПРОЕКТА%.
<br>
<br>
Поздравляем: вы написали ваш собственный справочник по Git! Теперь вы можете дорабатывать его по мере прохождения нашего курса.Пока на этом всё, но уже в следующей практической работе вы сможете ещё больше! git commit -m “Вперёд, к новым свершениям!”
<br>
<br>
**Хеш — идентификатор коммита**
<br>
<br>
В процессе работы с Git вам будет часто встречаться понятие «хеш коммита». Эти странные строчки с бессмысленным (на первый взгляд) набором букв и цифр вы могли видеть, когда вызывали команду git log и выводили историю коммитов.  
(https://git-scm.com/video/what-is-version-control)
<br>
В этом уроке разберём, что такое хеши и зачем они нужны.
<br>
<br>
**Что такое хеш. Хеширование коммитов**
<br>
<br>
**Хеширование** (от англ. *hash*, «рубить», «крошить», «мешанина») — это способ преобразовать набор данных и получить их «отпечаток» (англ. *fingerprint*).
<br>
Информация о коммите — это набор данных: когда был сделан коммит, содержимое файлов в репозитории на момент коммита и ссылка на предыдущий, или **родительский** (англ. *parent*), коммит.
<br>
Git хеширует (преобразует) информацию о коммите с помощью алгоритма **SHA-1** (от англ. *Secure Hash Algorithm* — «безопасный алгоритм хеширования») и получает для каждого коммита свой уникальный **хеш** — результат хеширования.
<br>
Обычно хеш — это короткая (4040 символов в случае SHA-1) строка, которая состоит из цифр 0—90—9 и латинских букв �—�*A—F* (неважно, заглавных или строчных). Она обладает следующими важными свойствами:
<br>
<br>
* если хеш получить дважды для одного и того же набора входных данных, то результат будет гарантированно одинаковый;  
* если хоть что-то в исходных данных поменяется (хотя бы один символ), то хеш тоже изменится (причём сильно).


Чтобы убедиться в этом, можно поэкспериментировать с SHA-1 [на этом сайте](https://git-scm.com/ "Всё здесь") — попробуйте ввести в поле **input** (англ. «ввод») разные символы, слова или предложения и понаблюдайте, как меняется хеш в поле **output** (англ. «вывод»).  


**Хеш — основной идентификатор коммита**  


Git хранит таблицу соответствий хеш → информация о коммите. Если вы знаете хеш, вы можете узнать всё остальное: автора и дату коммита и содержимое закоммиченных файлов. Можно сказать, что хеш — основной идентификатор коммита.  
При работе с Git хеши будут встречаться вам регулярно. Их можно будет передавать в качестве параметра разным Git-командам, чтобы указать, с каким коммитом нужно произвести то или иное действие.  
Все хеши и таблицу хеш → информация о коммите Git сохраняет в служебные файлы. Они находятся в скрытой папке .git в репозитории проекта.  
Теперь вы знаете, что такое хеш коммита и для чего он нужен. Подведём итоги: 


* Git преобразует информацию о коммитах с помощью алгоритма SHA-1 и для каждого из них рассчитывает уникальный идентификатор — хеш.  
* Хеш — основной идентификатор коммита и позволяет узнать его автора, дату и содержимое закоммиченных файлов.  
* Все хеши, а также таблицу соответствий хеш → информация о коммите Git хранит в папке .git.  
* **Исследуем лог**  
* В этом уроке рассмотрим подробнее, из каких элементов состоит описание коммита, а также как вывести сокращённый **лог** (от англ. *log* — «журнал [записей]»). Сокращённый лог полезен, если нужно быстро найти нужный коммит среди сотни других.  
* **Элементы описания коммита**  
* После вызова git log появляется список коммитов.  
(https://git-scm.com/video/what-is-git)


Разберём элементы, из которых состоит описание:  


* строка из цифр и латинских букв после слова commit — это хеш коммита;  
* Author — имя автора и его электронная почта;  
* Date — дата и время создания коммита;  
* в конце находится сообщение коммита.


Исходный код самого Git тоже хранится в Git-репозитории (тут уместно вспомнить про курицу и яйцо). Вот так выглядит описание самого первого коммита в репозитории Git. Изучите его.  
Скопировать код  
commit e83c5163316f89bfbde7d9ab23ca2e25604af290  
Author: Linus Torvalds <torvalds@linux-foundation.org>  
Date:   Thu Apr 7 15:13:13 2005 -0700  


    Initial revision of "git", the information manager from  

    
**Получить сокращённый лог — git log --oneline** 


Получить сокращённый лог можно с помощью команды git log с флагом --oneline (англ. «одной строкой»). В терминале появятся только первые несколько символов хеша каждого коммита и их комментарии.  
(https://git-scm.com/video/get-going)
Сокращённый лог полезен, если в репозитории уже много коммитов — например, сотни или тысячи. В этом случае можно быстро найти нужный по описанию.  
Сокращённый хеш (то есть первые несколько символов полного) можно использовать точно так же, как и полный. Для этого команда git log --oneline автоматически подбирает такую длину сокращённых хешей, чтобы они были уникальными в пределах репозитория и Git всегда мог понять, о каком коммите идёт речь.  
💡 Обратите внимание: если выход из просмотра логов не произошёл автоматически, нажмите клавишу Q (от англ. *Quit* — «выйти») в английской раскладке клавиатуры.  


Самое важное в этом уроке:  


* Можно вызвать не только полный лог, но и сокращённый — это делается командой git log --oneline.  
* В сокращённом логе выводятся сокращённые хеши — их можно использовать точно так же, как и полные.

# **Дополняем шпаргалку**

Ура, практика! Работа над самой удобной шпаргалкой по Git ещё не закончена — в этот раз вы дополните её.
Мир IT не стоит на месте: в нём постоянно происходят перемены. Например, в коммерческой разработке готовый код редко остается без изменений: обновляются фреймворки, добавляются и совершенствуются функциональности, непрерывно оптимизируется работа всего проекта.
🔑 Кстати, фреймворки и библиотеки значительно облегчают разработку проекта. К ним относятся, например, **Flask** — микрофреймворк для создания веб-приложений на языке Python; **React** — библиотека с открытым исходным кодом для разработки пользовательских интерфейсов на JavaScript; **Express** — фреймворк для среды разработки Node.js, и так далее.
Подробнее об этих и прочих популярных технологиях, вы можете узнать на наших курсах по программированию — [«Python-разработчик плюс»](https://practicum.yandex.ru/python-developer-plus/), [«Фулстек-разработчик»](https://practicum.yandex.ru/python-developer-plus/) и других. Вводная часть этих курсов бесплатная
Подобно всем реальным проектам, ваша шпаргалка тоже требует обновления — ведь с момента прошлой практической работы вы узнали много нового. 
Дополните её:


1. Добавьте в шпаргалку основную информацию из уроков о хеше, логе, HEAD, статусах файлов и оформлении сообщений к коммитам.
2. Информацию из каждого урока заливайте новым коммитом. Так вам будет проще отслеживать, как меняется шпаргалка и увеличивается объём ваших знаний.


💡 Пишите понятные и информативные сообщения к коммитам. Используйте ключевые слова из названий уроков. Например: Добавить раздел про HEAD, Дополнить инфу про git log и так далее.


3. Особое внимание уделите материалу о статусах и жизненном цикле файлов в Git. Схему изменения статусов можно описать словами. Например, modified+git add = staged.


А можно усложнить задачу! Попробуйте использовать формат описания схем [Mermaid](https://github.blog/). Принцип такой: вы описываете схему в специальном текстовом формате, а GitHub превращает описание в полноценную схему с блоками и стрелками.


Подсказка: как сделать mermaid-схему
Чтобы получить mermaid-схему в README.md, нужно добавить блок кода типа mermaid.

Скопировать кодMARKDOWN

HEAD -- это голова.

Коммит -- это всему голова.

Статусы файлов:
<тут пустая строка!>


```mermaid

```


<и тут пустая строка!> 


 Блоки кода в маркдауне начинаются и заканчиваются тремя символами ```. После первых трёх ``` можно указать, какой именно код будет внутри блока. Например: ```mermaid , ```bash, ```python, ```javascript и так далее. Если ничего не указать, GitHub будет считать весь код простым текстом.


💡 Перед блоком и после него нужны пустые строки, иначе GitHub может не понять, что это блок кода.


 Два символа %% обозначают в mermaid строку-комментарий.
 Чтобы сделать схему, нужно указать формат: graph LR. Graph — это простейший тип схем; для шпаргалки его будет достаточно.
 Чтобы добавить элементы и связи (стрелки), используют строки вида A --> B. Такая строка создаст квадратные блоки А и B и соединит их стрелкой. 
Дополнительно можно указывать текст на стрелке. Например, так: A -- "text" --> B. 


Ниже вы найдёте заготовку для схемы статусов файлов.

Скопировать код


```mermaid
graph LR;
  untracked -- "add" --> staged;
  staged    -- "go"     --> tracked/comitted;


``` 


Попробуйте описать схему самостоятельно и посмотреть, что получится!
В следующей практической работе вас ждёт новая ситуация. Статус ваших знаний по Git — modified!


**Как исправить коммит**


Иногда в только что выполненном коммите нужно что-то поменять: например, добавить ещё пару файлов или заменить сообщение на более информативное.


В таком случае можно внести правки в уже сделанный коммит с помощью опции --amend (от англ. amend — «исправить», «дополнить») у команды commit: git commit --amend. Разберём, как она работает.


💡 Важно: опция --amend работает только с последним коммитом (HEAD). Для исправления более ранних коммитов есть другие команды. Мы рассмотрим их в следующих модулях курса.
**Подготавливаем репозиторий**


Создайте тренировочный репозиторий для отработки команды.


Скопировать кодBASH


$ mkdir ~/dev/commit-amend-fun  
$ cd ~/dev/commit-amend-fun  
$ git init  
#*пропустим вывод git init* 


**Дополнить коммит новыми файлами — git commit --amend --no-edit**


Представьте, что делаете небольшой сайт и для этого создали файл-страницу main.html, а также файл со стилями common.css.


Скопировать кодBASH


$ touch main.html  
$ touch common.css  
#*дальше отредактировали оба файла* 

В какой-то момент вы забыли о файле common.css и добавили в коммит только main.html.


Скопировать кодBASH


$ git add main.html  
$ git commit -m "Добавить главную страницу"  
$ git log --oneline  
777fec3 Добавить главную страницу  
Напомним, что если вы повторяете за нами эти действия локально, у вас будут другие хеши коммитов.


Файл common.css так и остался «висеть» в untracked. В этом легко убедиться, если вызвать git status.


Скопировать кодBASH


$ git status  
On branch main  
Untracked files:  
  (use "git add <file>..." to include in what will be committed)  
          common.css


nothing added to commit but untracked files present (use "git add" to track)  
Дополните последний коммит забытым файлом common.css с помощью опции --amend.


Скопировать кодBASH


$ git add common.css  
#*добавили файл common.css в список на коммит как обычно*


#*но вместо команды commit -m '...'*  
#*будет:*  
$ git commit --amend --no-edit  


$ git log --oneline  
8340eb2 Добавить главную страницу

#*коммит в истории всё ещё один (но у него новый хеш)*  
С опцией --amend команда commit не создаст новый коммит, а дополнит последний, просто добавив в него файл common.css. При этом хеш последнего коммита изменится, потому что изменился список файлов в коммите.


Обратите внимание на опцию --no-edit. Она сообщает команде commit, что сообщение коммита нужно оставить как было.


Точно так же можно добавить не новый файл, а дополнительные изменения в уже добавленном в коммит файле.


Скопировать кодBASH


#*ещё раз отредактировали main.html*


$ git add main.html # добавили в список на коммит  
$ git commit --amend --no-edit  
💡 **Что же выбрать: новый коммит или --amend?**


В нашем примере вместо изменения последнего коммита можно было также выполнить новый коммит с одним файлом common.css. Кажется, что так проще, но добавить изменения в уже существующий коммит может быть правильнее.


Например, через месяц кто-то захочет просмотреть историю изменений. Намного проще понять, что изменилось, если оба файла находятся в одном коммите. Иначе коммит со второй порцией изменений придётся искать.


**Изменить сообщение коммита — git commit --amend -m "Новое сообщение"**


Может быть и так, что добавлять новые файлы в коммит не нужно, зато понадобилось изменить сообщение.


Допустим, хочется заменить сообщение Добавить главную страницу на Добавить главную страницу и стили. Сделать это можно через commit --amend с флагом -m.


Скопировать кодBASH


$ git commit --amend -m "Добавить главную страницу и стили"  
$ git log --oneline  
a31fa24 Добавить главную страницу и стили  
Хеш коммита снова поменялся, потому что изменились сообщение и время коммита. При этом файлы в коммите остались те же: main.html и common.css.


Случилось страшное: открылся редактор  
Если забыть указать у команды git commit --amend один из флагов (--no-edit или -m), Git предложит отредактировать сообщение коммита вручную. Для этого он откроет текстовый редактор, который установлен в системе по умолчанию. Чаще всего это либо **GNU nano**, либо **Vim**.


nano — простой и свободный


При редактировании сообщения коммита редактор GNU nano выглядит примерно так.
